<div class="flex absolute inset-0 bg-red-200">
  <!-- sidenav -->
  <ng-container>
    <aside id="sidebar"
      class="fixed top-0 left-0 bottom-0 w-48 h-full bg-white z-[999] duration-500 delay-[0s] ease-out transition-all"
      [class.w-0]="!isSideNavOpen && sideNavMode == 'over'" [class.w-48]="isSideNavOpen || sideNavMode == 'side'" style="
        box-shadow: 0 8px 10px -5px #0003, 0 16px 24px 2px #00000024,
          0 6px 30px 5px #0000001f;
      ">
      <button aria-label="Close Navbar" class="sidebar-toggle w-48 flex items-center bg-black rounded-full text-white"
        *ngIf="isSideNavOpen && sideNavMode == 'over'" (click)="toggleDrawer()">
        <mat-icon>cancel</mat-icon>
      </button>
      <nav id="sidebar-content" class="flex flex-col h-full overflow-hidden bg-white">
        <div id="sidebar-main" class="relative flex-1">
          <div
            class="left-0 opacity-100 z-[1] flex flex-col overscroll-contain absolute w-full h-full duration-500 delay-[0s] ease-out transition-all">
            <div id="sidebar-header" class="basis-12 flex items-center justify-between overflow-hidden pt-0 px-2">
              <img class="h-fit mt-1 mr-16 xs:mr-3 sm:mr-8 cursor-pointer" src="./assets/images/favicon.ico"
                alt="ICON" routerLink="/" />
            </div>
            <hr />

            <div id="sidebar-body" class="overflow-x-hidden overflow-y-auto mt-0 flex-1 scroll-smooth">
              <app-nav-list/>
            </div>
          </div>
        </div>
        <div id="sidebar-footer"></div>
      </nav>
    </aside>
  </ng-container>

  <div class="flex-1 flex flex-col duration-500 delay-[0s] transition-[margin-left] ease-out"
    [class.ml-0]="sideNavMode == 'over'" [class.ml-48]="sideNavMode == 'side'">
    <!-- header -->
    <div id="header"
      class="flex items-center justify-between basis-12 pt-1 px-2 bg-white text-gray-500 z-[99] hover:text-gray-700 focus:text-gray-700 shadow-xl">
      <div class="flex m-3">
        <ng-container *ngIf="sideNavMode == 'over'">
          <img class="h-fit mt-1 mr-16 xs:mr-3 sm:mr-8 cursor-pointer" src="./assets/images/favicon.ico"
            alt="ICON" routerLink="/" />

          <button mat-icon-button aria-label="Nav Icon Button" (click)="toggleDrawer()">
            <mat-icon>menu</mat-icon>
          </button>
        </ng-container>

        <span
          class="flex items-center ml-4 italic text-sky-700">Some Text If Needed</span>
      </div>
      <div class="flex items-center">


        <!-- <img src="../../../assets/images/avatar.jpg" class="rounded w-10 m-1" alt="Avatar" /> -->
        <div class="mt-3">

          <p>User Name</p>
        </div>
        <button mat-icon-button aria-label="Menu BUtton" [matMenuTriggerFor]="logoutDropdown">
          <mat-icon>expand_more</mat-icon>
        </button>
      </div>
    </div>

    <!-- page content -->
    <div class="flex-1">
      <!-- overlay -->
      <div class="duration-500 delay-[0s] transition-[margin-left] ease-out"
        [class.backdrop]="isSideNavOpen && sideNavMode == 'over'" [class.ml-48]="isSideNavOpen && sideNavMode == 'over'"
        (click)="toggleDrawer()"></div>

      <!-- sidenav container -->
      <main id="sidenav-container" class="relative block h-full overflow-auto flex-1" style="background-color: #f8f9fd">
        <router-outlet></router-outlet>

        <div class="h-12"></div>

        <div
          class="absolute bottom-0 flex w-full justify-center py-3 bg-gray-200 border-t border-solid border-slate-300">
          <a target="_blank" style="color: black; font-style: italic">&nbsp;Basic NAV Demo - {{appVersion}}
            &copy;&nbsp;
            {{ getCurrentYear() }}</a>
        </div>
      </main>
    </div>
  </div>

  <mat-menu #logoutDropdown="matMenu">
    <button mat-menu-item class="menu-item-padding" (click)="changePassword()">
      <!-- <mat-icon>lock</mat-icon> -->
      <span>Change Password</span>
    </button>
    <mat-divider></mat-divider>
    <button mat-menu-item class="menu-item-padding" (click)="logout()">
      <!-- <mat-icon>lock</mat-icon> -->
      <span>Logout</span>
    </button>
  </mat-menu>
</div>

